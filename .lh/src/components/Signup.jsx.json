{
    "sourceFile": "src/components/Signup.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 11,
            "patches": [
                {
                    "date": 1739441220379,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1739443674871,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,90 @@\n-import React from \"react\";\r\n+import React, { useState } from \"react\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n \r\n const Signup = () => {\r\n-  return <div>I am signup</div>;\r\n+  const [user, setUser] = useState({ name: \"\", email: \"\", password: \"\" });\r\n+  const navigate = useNavigate();\r\n+\r\n+  const handleSubmit = async (e) => {\r\n+    e.preventDefault();\r\n+    const response = await fetch(\"http://localhost:5000/api/auth/signup\", {\r\n+      method: \"POST\",\r\n+      headers: {\r\n+        \"Content-Type\": \"application/json\",\r\n+      },\r\n+      body: JSON.stringify({\r\n+        name: user.name,\r\n+        email: user.email,\r\n+        password: user.password,\r\n+      }),\r\n+    });\r\n+    const json = await response.json();\r\n+    console.log(json);\r\n+    if (json.success) {\r\n+      localStorage.setItem(\"token\", json.authtoken);\r\n+      navigate(\"/\"); // Redirect to home page after successful signup\r\n+    } else {\r\n+      alert(\"User already exists or something went wrong\");\r\n+    }\r\n+  };\r\n+\r\n+  const onChange = (e) => {\r\n+    setUser({ ...user, [e.target.name]: e.target.value });\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"container my-3\">\r\n+      <h2>Signup</h2>\r\n+      <form onSubmit={handleSubmit}>\r\n+        <div className=\"mb-3\">\r\n+          <label htmlFor=\"name\" className=\"form-label\">\r\n+            Name\r\n+          </label>\r\n+          <input\r\n+            type=\"text\"\r\n+            className=\"form-control\"\r\n+            id=\"name\"\r\n+            name=\"name\"\r\n+            value={user.name}\r\n+            onChange={onChange}\r\n+            required\r\n+          />\r\n+        </div>\r\n+        <div className=\"mb-3\">\r\n+          <label htmlFor=\"email\" className=\"form-label\">\r\n+            Email address\r\n+          </label>\r\n+          <input\r\n+            type=\"email\"\r\n+            className=\"form-control\"\r\n+            id=\"email\"\r\n+            name=\"email\"\r\n+            value={user.email}\r\n+            onChange={onChange}\r\n+            required\r\n+          />\r\n+        </div>\r\n+        <div className=\"mb-3\">\r\n+          <label htmlFor=\"password\" className=\"form-label\">\r\n+            Password\r\n+          </label>\r\n+          <input\r\n+            type=\"password\"\r\n+            className=\"form-control\"\r\n+            id=\"password\"\r\n+            name=\"password\"\r\n+            value={user.password}\r\n+            onChange={onChange}\r\n+            required\r\n+            minLength={5}\r\n+          />\r\n+        </div>\r\n+        <button type=\"submit\" className=\"btn btn-primary\">\r\n+          Submit\r\n+        </button>\r\n+      </form>\r\n+    </div>\r\n+  );\r\n };\r\n \r\n export default Signup;\r\n"
                },
                {
                    "date": 1739443909997,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,9 +6,10 @@\n   const navigate = useNavigate();\r\n \r\n   const handleSubmit = async (e) => {\r\n     e.preventDefault();\r\n-    const response = await fetch(\"http://localhost:5000/api/auth/signup\", {\r\n+    const response = await fetch(\"http://localhost:5000/api/auth/createuser\", {\r\n+      // Change the endpoint to /createuser\r\n       method: \"POST\",\r\n       headers: {\r\n         \"Content-Type\": \"application/json\",\r\n       },\r\n"
                },
                {
                    "date": 1739444002845,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,9 +7,8 @@\n \r\n   const handleSubmit = async (e) => {\r\n     e.preventDefault();\r\n     const response = await fetch(\"http://localhost:5000/api/auth/createuser\", {\r\n-      // Change the endpoint to /createuser\r\n       method: \"POST\",\r\n       headers: {\r\n         \"Content-Type\": \"application/json\",\r\n       },\r\n@@ -19,14 +18,21 @@\n         password: user.password,\r\n       }),\r\n     });\r\n     const json = await response.json();\r\n-    console.log(json);\r\n+    console.log(json); // Check the response in the console\r\n+\r\n     if (json.success) {\r\n+      // User creation success\r\n       localStorage.setItem(\"token\", json.authtoken);\r\n       navigate(\"/\"); // Redirect to home page after successful signup\r\n     } else {\r\n-      alert(\"User already exists or something went wrong\");\r\n+      // Handle error scenario (user already exists or some other error)\r\n+      if (json.error) {\r\n+        alert(json.error); // Show the error message returned from the backend\r\n+      } else {\r\n+        alert(\"Something went wrong. Please try again.\");\r\n+      }\r\n     }\r\n   };\r\n \r\n   const onChange = (e) => {\r\n"
                },
                {
                    "date": 1739444216379,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,12 +2,15 @@\n import { useNavigate } from \"react-router-dom\";\r\n \r\n const Signup = () => {\r\n   const [user, setUser] = useState({ name: \"\", email: \"\", password: \"\" });\r\n+  const [loading, setLoading] = useState(false);\r\n+  const [error, setError] = useState(\"\");\r\n   const navigate = useNavigate();\r\n \r\n   const handleSubmit = async (e) => {\r\n     e.preventDefault();\r\n+    setLoading(true);\r\n     const response = await fetch(\"http://localhost:5000/api/auth/createuser\", {\r\n       method: \"POST\",\r\n       headers: {\r\n         \"Content-Type\": \"application/json\",\r\n@@ -18,8 +21,9 @@\n         password: user.password,\r\n       }),\r\n     });\r\n     const json = await response.json();\r\n+    setLoading(false);\r\n     console.log(json); // Check the response in the console\r\n \r\n     if (json.success) {\r\n       // User creation success\r\n@@ -27,11 +31,11 @@\n       navigate(\"/\"); // Redirect to home page after successful signup\r\n     } else {\r\n       // Handle error scenario (user already exists or some other error)\r\n       if (json.error) {\r\n-        alert(json.error); // Show the error message returned from the backend\r\n+        setError(json.error); // Set the error state\r\n       } else {\r\n-        alert(\"Something went wrong. Please try again.\");\r\n+        setError(\"Something went wrong. Please try again.\");\r\n       }\r\n     }\r\n   };\r\n \r\n@@ -85,12 +89,13 @@\n             required\r\n             minLength={5}\r\n           />\r\n         </div>\r\n-        <button type=\"submit\" className=\"btn btn-primary\">\r\n-          Submit\r\n+        <button type=\"submit\" className=\"btn btn-primary\" disabled={loading}>\r\n+          {loading ? \"Signing up...\" : \"Submit\"}\r\n         </button>\r\n       </form>\r\n+      {error && <div className=\"alert alert-danger mt-3\">{error}</div>}\r\n     </div>\r\n   );\r\n };\r\n \r\n"
                },
                {
                    "date": 1739445157666,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,34 +9,42 @@\n \r\n   const handleSubmit = async (e) => {\r\n     e.preventDefault();\r\n     setLoading(true);\r\n-    const response = await fetch(\"http://localhost:5000/api/auth/createuser\", {\r\n-      method: \"POST\",\r\n-      headers: {\r\n-        \"Content-Type\": \"application/json\",\r\n-      },\r\n-      body: JSON.stringify({\r\n-        name: user.name,\r\n-        email: user.email,\r\n-        password: user.password,\r\n-      }),\r\n-    });\r\n-    const json = await response.json();\r\n-    setLoading(false);\r\n-    console.log(json); // Check the response in the console\r\n+    setError(\"\"); // Reset error before making the request\r\n \r\n-    if (json.success) {\r\n-      // User creation success\r\n-      localStorage.setItem(\"token\", json.authtoken);\r\n-      navigate(\"/\"); // Redirect to home page after successful signup\r\n-    } else {\r\n-      // Handle error scenario (user already exists or some other error)\r\n-      if (json.error) {\r\n-        setError(json.error); // Set the error state\r\n+    try {\r\n+      const response = await fetch(\r\n+        \"http://localhost:5000/api/auth/createuser\",\r\n+        {\r\n+          method: \"POST\",\r\n+          headers: {\r\n+            \"Content-Type\": \"application/json\",\r\n+          },\r\n+          body: JSON.stringify({\r\n+            name: user.name,\r\n+            email: user.email,\r\n+            password: user.password,\r\n+          }),\r\n+        }\r\n+      );\r\n+\r\n+      const json = await response.json();\r\n+      setLoading(false);\r\n+      console.log(json); // Check the response in the console\r\n+\r\n+      if (response.ok) {\r\n+        // If response status is 200-299, user is created successfully\r\n+        localStorage.setItem(\"token\", json.authtoken);\r\n+        navigate(\"/\"); // Redirect to home page after successful signup\r\n       } else {\r\n-        setError(\"Something went wrong. Please try again.\");\r\n+        // If response is not ok, show error message\r\n+        setError(json.error || \"Something went wrong. Please try again.\");\r\n       }\r\n+    } catch (err) {\r\n+      setLoading(false);\r\n+      setError(\"An error occurred. Please try again later.\");\r\n+      console.error(\"Error during signup:\", err);\r\n     }\r\n   };\r\n \r\n   const onChange = (e) => {\r\n"
                },
                {
                    "date": 1739446072513,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,10 +33,14 @@\n       console.log(json); // Check the response in the console\r\n \r\n       if (response.ok) {\r\n         // If response status is 200-299, user is created successfully\r\n+        setAlert(\"Signup successful! Redirecting...\");\r\n         localStorage.setItem(\"token\", json.authtoken);\r\n-        navigate(\"/\"); // Redirect to home page after successful signup\r\n+        setTimeout(() => {\r\n+          setAlert(\"\"); // Clear the alert message\r\n+          navigate(\"/\"); // Redirect to the home page\r\n+        }, 1000); // Redirect to home page after successful signup\r\n       } else {\r\n         // If response is not ok, show error message\r\n         setError(json.error || \"Something went wrong. Please try again.\");\r\n       }\r\n"
                },
                {
                    "date": 1739446294167,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,8 +4,9 @@\n const Signup = () => {\r\n   const [user, setUser] = useState({ name: \"\", email: \"\", password: \"\" });\r\n   const [loading, setLoading] = useState(false);\r\n   const [error, setError] = useState(\"\");\r\n+  const [successMessage, setSuccessMessage] = useState(\"\"); // State to show success message\r\n   const navigate = useNavigate();\r\n \r\n   const handleSubmit = async (e) => {\r\n     e.preventDefault();\r\n@@ -33,14 +34,18 @@\n       console.log(json); // Check the response in the console\r\n \r\n       if (response.ok) {\r\n         // If response status is 200-299, user is created successfully\r\n-        setAlert(\"Signup successful! Redirecting...\");\r\n         localStorage.setItem(\"token\", json.authtoken);\r\n+\r\n+        // Show success alert\r\n+        setSuccessMessage(\"Signup successful! Redirecting...\");\r\n+\r\n+        // Wait for 1 second before redirecting\r\n         setTimeout(() => {\r\n-          setAlert(\"\"); // Clear the alert message\r\n-          navigate(\"/\"); // Redirect to the home page\r\n-        }, 1000); // Redirect to home page after successful signup\r\n+          setSuccessMessage(\"\"); // Clear the success message\r\n+          navigate(\"/\"); // Redirect to home page after 1 second\r\n+        }, 1000); // 1 second delay\r\n       } else {\r\n         // If response is not ok, show error message\r\n         setError(json.error || \"Something went wrong. Please try again.\");\r\n       }\r\n@@ -56,8 +61,16 @@\n   };\r\n \r\n   return (\r\n     <div className=\"container my-3\">\r\n+      {/* Show success alert */}\r\n+      {successMessage && (\r\n+        <div className=\"alert alert-success mt-3\">{successMessage}</div>\r\n+      )}\r\n+\r\n+      {/* Show error alert */}\r\n+      {error && <div className=\"alert alert-danger mt-3\">{error}</div>}\r\n+\r\n       <h2>Signup</h2>\r\n       <form onSubmit={handleSubmit}>\r\n         <div className=\"mb-3\">\r\n           <label htmlFor=\"name\" className=\"form-label\">\r\n@@ -105,9 +118,8 @@\n         <button type=\"submit\" className=\"btn btn-primary\" disabled={loading}>\r\n           {loading ? \"Signing up...\" : \"Submit\"}\r\n         </button>\r\n       </form>\r\n-      {error && <div className=\"alert alert-danger mt-3\">{error}</div>}\r\n     </div>\r\n   );\r\n };\r\n \r\n"
                },
                {
                    "date": 1739527217284,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,13 +65,19 @@\n       {/* Show success alert */}\r\n       {successMessage && (\r\n         <div className=\"alert alert-success mt-3\">{successMessage}</div>\r\n       )}\r\n-\r\n       {/* Show error alert */}\r\n       {error && <div className=\"alert alert-danger mt-3\">{error}</div>}\r\n-\r\n-      <h2>Signup</h2>\r\n+      <h2>Signup</h2> <br />\r\n+      <h6>\r\n+        <i>\r\n+          *If logged in user then go to login page <br />{\" \"}\r\n+        </i>\r\n+        * Name should be atleast 5 characters length <br />\r\n+        *password should be 8 character length <br />\r\n+        *email is unique\r\n+      </h6>\r\n       <form onSubmit={handleSubmit}>\r\n         <div className=\"mb-3\">\r\n           <label htmlFor=\"name\" className=\"form-label\">\r\n             Name\r\n"
                },
                {
                    "date": 1739527251241,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,13 +70,12 @@\n       {error && <div className=\"alert alert-danger mt-3\">{error}</div>}\r\n       <h2>Signup</h2> <br />\r\n       <h6>\r\n         <i>\r\n-          *If logged in user then go to login page <br />{\" \"}\r\n+          * If logged in user then go to login page <br />{\" \"}\r\n         </i>\r\n         * Name should be atleast 5 characters length <br />\r\n-        *password should be 8 character length <br />\r\n-        *email is unique\r\n+        * password should be 8 character length <br />* email is unique\r\n       </h6>\r\n       <form onSubmit={handleSubmit}>\r\n         <div className=\"mb-3\">\r\n           <label htmlFor=\"name\" className=\"form-label\">\r\n"
                },
                {
                    "date": 1739527652360,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -116,9 +116,9 @@\n             name=\"password\"\r\n             value={user.password}\r\n             onChange={onChange}\r\n             required\r\n-            minLength={5}\r\n+            minLength={8}\r\n           />\r\n         </div>\r\n         <button type=\"submit\" className=\"btn btn-primary\" disabled={loading}>\r\n           {loading ? \"Signing up...\" : \"Submit\"}\r\n"
                },
                {
                    "date": 1739537298323,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,9 +37,9 @@\n         // If response status is 200-299, user is created successfully\r\n         localStorage.setItem(\"token\", json.authtoken);\r\n \r\n         // Show success alert\r\n-        setSuccessMessage(\"Signup successful! Redirecting...\");\r\n+        setSuccessMessage(\"Welcome to iNotebook! Your journey begins now...\");\r\n \r\n         // Wait for 1 second before redirecting\r\n         setTimeout(() => {\r\n           setSuccessMessage(\"\"); // Clear the success message\r\n"
                }
            ],
            "date": 1739441220379,
            "name": "Commit-0",
            "content": "import React from \"react\";\r\n\r\nconst Signup = () => {\r\n  return <div>I am signup</div>;\r\n};\r\n\r\nexport default Signup;\r\n"
        }
    ]
}