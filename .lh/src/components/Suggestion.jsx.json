{
    "sourceFile": "src/components/Suggestion.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1739465480898,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1739465543941,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,32 +1,77 @@\n-import React from \"react\";\r\n+import React, { useState } from \"react\";\r\n \r\n const Suggestion = () => {\r\n+  const [suggestionData, setSuggestionData] = useState({\r\n+    name: \"\",\r\n+    email: \"\",\r\n+    suggestion: \"\",\r\n+  });\r\n+\r\n+  const handleChange = (e) => {\r\n+    setSuggestionData({\r\n+      ...suggestionData,\r\n+      [e.target.name]: e.target.value,\r\n+    });\r\n+  };\r\n+\r\n+  const handleSubmit = (e) => {\r\n+    e.preventDefault();\r\n+\r\n+    // Add your submission logic here (e.g., make an API call to submit the suggestion)\r\n+    console.log(suggestionData);\r\n+\r\n+    // Reset the form after submission\r\n+    setSuggestionData({\r\n+      name: \"\",\r\n+      email: \"\",\r\n+      suggestion: \"\",\r\n+    });\r\n+  };\r\n+\r\n   return (\r\n     <div>\r\n-      <form>\r\n+      <form onSubmit={handleSubmit}>\r\n         <div className=\"mb-3\">\r\n-          <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">\r\n+          <label htmlFor=\"name\" className=\"form-label\">\r\n             Name\r\n           </label>\r\n           <input\r\n-            type=\"password\"\r\n+            type=\"text\"\r\n             className=\"form-control\"\r\n             id=\"name\"\r\n-            class=\"name\"\r\n+            name=\"name\"\r\n+            value={suggestionData.name}\r\n+            onChange={handleChange}\r\n+            required\r\n           />\r\n         </div>\r\n         <div className=\"mb-3\">\r\n-          <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">\r\n+          <label htmlFor=\"email\" className=\"form-label\">\r\n             Email address\r\n           </label>\r\n-          <input type=\"email\" className=\"form-control\" id=\"email\" />\r\n+          <input\r\n+            type=\"email\"\r\n+            className=\"form-control\"\r\n+            id=\"email\"\r\n+            name=\"email\"\r\n+            value={suggestionData.email}\r\n+            onChange={handleChange}\r\n+            required\r\n+          />\r\n         </div>\r\n         <div className=\"mb-3\">\r\n-          <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">\r\n+          <label htmlFor=\"suggestion\" className=\"form-label\">\r\n             Suggestion\r\n           </label>\r\n-          <input type=\"password\" className=\"form-control\" id=\"suggestion\" />\r\n+          <textarea\r\n+            className=\"form-control\"\r\n+            id=\"suggestion\"\r\n+            name=\"suggestion\"\r\n+            value={suggestionData.suggestion}\r\n+            onChange={handleChange}\r\n+            required\r\n+          ></textarea>\r\n         </div>\r\n         <button type=\"submit\" className=\"btn btn-primary\">\r\n           Submit\r\n         </button>\r\n"
                },
                {
                    "date": 1739467115690,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,32 +5,66 @@\n     name: \"\",\r\n     email: \"\",\r\n     suggestion: \"\",\r\n   });\r\n+  const [alert, setAlert] = useState(\"\"); // State to show alerts (success or error)\r\n \r\n+  // Handle changes in the form fields\r\n   const handleChange = (e) => {\r\n     setSuggestionData({\r\n       ...suggestionData,\r\n       [e.target.name]: e.target.value,\r\n     });\r\n   };\r\n \r\n-  const handleSubmit = (e) => {\r\n+  // Handle form submission\r\n+  const handleSubmit = async (e) => {\r\n     e.preventDefault();\r\n \r\n-    // Add your submission logic here (e.g., make an API call to submit the suggestion)\r\n-    console.log(suggestionData);\r\n+    // Check if all required fields are filled\r\n+    if (\r\n+      !suggestionData.name ||\r\n+      !suggestionData.email ||\r\n+      !suggestionData.suggestion\r\n+    ) {\r\n+      setAlert(\"All fields are required.\");\r\n+      return;\r\n+    }\r\n \r\n-    // Reset the form after submission\r\n-    setSuggestionData({\r\n-      name: \"\",\r\n-      email: \"\",\r\n-      suggestion: \"\",\r\n+    // Prepare data to send to the backend\r\n+    const response = await fetch(\"http://localhost:5000/api/sugg/addsugg\", {\r\n+      method: \"POST\",\r\n+      headers: {\r\n+        \"Content-Type\": \"application/json\",\r\n+        \"auth-token\": localStorage.getItem(\"token\"), // Ensure token is sent for authentication\r\n+      },\r\n+      body: JSON.stringify({\r\n+        suggestion: suggestionData.suggestion,\r\n+        email: suggestionData.email,\r\n+      }),\r\n     });\r\n+\r\n+    const json = await response.json();\r\n+\r\n+    if (json.success) {\r\n+      setAlert(\"Suggestion submitted successfully!\");\r\n+      // Reset form fields\r\n+      setSuggestionData({\r\n+        name: \"\",\r\n+        email: \"\",\r\n+        suggestion: \"\",\r\n+      });\r\n+    } else {\r\n+      setAlert(\"Failed to submit suggestion.\");\r\n+    }\r\n   };\r\n \r\n   return (\r\n-    <div>\r\n+    <div className=\"container my-3\">\r\n+      {/* Show success/error alerts */}\r\n+      {alert && <div className=\"alert alert-info\">{alert}</div>}\r\n+\r\n+      <h3>Submit Your Suggestion</h3>\r\n       <form onSubmit={handleSubmit}>\r\n         <div className=\"mb-3\">\r\n           <label htmlFor=\"name\" className=\"form-label\">\r\n             Name\r\n"
                },
                {
                    "date": 1739469157329,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,49 +15,56 @@\n       [e.target.name]: e.target.value,\r\n     });\r\n   };\r\n \r\n-  // Handle form submission\r\n-  const handleSubmit = async (e) => {\r\n-    e.preventDefault();\r\n+  // Handle form submissionconst handleSubmit = async (e) => {\r\n+  e.preventDefault();\r\n \r\n-    // Check if all required fields are filled\r\n-    if (\r\n-      !suggestionData.name ||\r\n-      !suggestionData.email ||\r\n-      !suggestionData.suggestion\r\n-    ) {\r\n-      setAlert(\"All fields are required.\");\r\n-      return;\r\n-    }\r\n+  // Check if all required fields are filled\r\n+  if (\r\n+    !suggestionData.name ||\r\n+    !suggestionData.email ||\r\n+    !suggestionData.suggestion\r\n+  ) {\r\n+    setAlert(\"All fields are required.\");\r\n+    return;\r\n+  }\r\n \r\n-    // Prepare data to send to the backend\r\n-    const response = await fetch(\"http://localhost:5000/api/sugg/addsugg\", {\r\n-      method: \"POST\",\r\n-      headers: {\r\n-        \"Content-Type\": \"application/json\",\r\n-        \"auth-token\": localStorage.getItem(\"token\"), // Ensure token is sent for authentication\r\n-      },\r\n-      body: JSON.stringify({\r\n-        suggestion: suggestionData.suggestion,\r\n-        email: suggestionData.email,\r\n-      }),\r\n+  // Prepare data to send to the backend\r\n+  const response = await fetch(\"http://localhost:5000/api/sugg/addsugg\", {\r\n+    method: \"POST\",\r\n+    headers: {\r\n+      \"Content-Type\": \"application/json\",\r\n+      \"auth-token\": localStorage.getItem(\"token\"), // Ensure token is sent for authentication\r\n+    },\r\n+    body: JSON.stringify({\r\n+      suggestion: suggestionData.suggestion,\r\n+      email: suggestionData.email,\r\n+    }),\r\n+  });\r\n+\r\n+  const json = await response.json();\r\n+\r\n+  if (json.success) {\r\n+    // Set success alert\r\n+    setAlert(\"Suggestion submitted successfully!\");\r\n+\r\n+    // Reset form fields and trigger alert update\r\n+    setSuggestionData({\r\n+      name: \"\",\r\n+      email: \"\",\r\n+      suggestion: \"\",\r\n     });\r\n \r\n-    const json = await response.json();\r\n+    // You can also add a timeout to automatically clear the alert after a few seconds:\r\n+    setTimeout(() => {\r\n+      setAlert(\"\");\r\n+    }, 3000); // Clears alert after 3 seconds\r\n+  } else {\r\n+    setAlert(\"Failed to submit suggestion.\");\r\n+  }\r\n+};\r\n \r\n-    if (json.success) {\r\n-      setAlert(\"Suggestion submitted successfully!\");\r\n-      // Reset form fields\r\n-      setSuggestionData({\r\n-        name: \"\",\r\n-        email: \"\",\r\n-        suggestion: \"\",\r\n-      });\r\n-    } else {\r\n-      setAlert(\"Failed to submit suggestion.\");\r\n-    }\r\n-  };\r\n \r\n   return (\r\n     <div className=\"container my-3\">\r\n       {/* Show success/error alerts */}\r\n"
                },
                {
                    "date": 1739469177123,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,57 +15,57 @@\n       [e.target.name]: e.target.value,\r\n     });\r\n   };\r\n \r\n-  // Handle form submissionconst handleSubmit = async (e) => {\r\n-  e.preventDefault();\r\n+  // Handle form submission\r\n+  const handleSubmit = async (e) => {\r\n+    e.preventDefault();\r\n \r\n-  // Check if all required fields are filled\r\n-  if (\r\n-    !suggestionData.name ||\r\n-    !suggestionData.email ||\r\n-    !suggestionData.suggestion\r\n-  ) {\r\n-    setAlert(\"All fields are required.\");\r\n-    return;\r\n-  }\r\n+    // Check if all required fields are filled\r\n+    if (\r\n+      !suggestionData.name ||\r\n+      !suggestionData.email ||\r\n+      !suggestionData.suggestion\r\n+    ) {\r\n+      setAlert(\"All fields are required.\");\r\n+      return;\r\n+    }\r\n \r\n-  // Prepare data to send to the backend\r\n-  const response = await fetch(\"http://localhost:5000/api/sugg/addsugg\", {\r\n-    method: \"POST\",\r\n-    headers: {\r\n-      \"Content-Type\": \"application/json\",\r\n-      \"auth-token\": localStorage.getItem(\"token\"), // Ensure token is sent for authentication\r\n-    },\r\n-    body: JSON.stringify({\r\n-      suggestion: suggestionData.suggestion,\r\n-      email: suggestionData.email,\r\n-    }),\r\n-  });\r\n+    // Prepare data to send to the backend\r\n+    const response = await fetch(\"http://localhost:5000/api/sugg/addsugg\", {\r\n+      method: \"POST\",\r\n+      headers: {\r\n+        \"Content-Type\": \"application/json\",\r\n+        \"auth-token\": localStorage.getItem(\"token\"), // Ensure token is sent for authentication\r\n+      },\r\n+      body: JSON.stringify({\r\n+        suggestion: suggestionData.suggestion,\r\n+        email: suggestionData.email,\r\n+      }),\r\n+    });\r\n \r\n-  const json = await response.json();\r\n+    const json = await response.json();\r\n \r\n-  if (json.success) {\r\n-    // Set success alert\r\n-    setAlert(\"Suggestion submitted successfully!\");\r\n+    if (json.success) {\r\n+      // Set success alert\r\n+      setAlert(\"Suggestion submitted successfully!\");\r\n \r\n-    // Reset form fields and trigger alert update\r\n-    setSuggestionData({\r\n-      name: \"\",\r\n-      email: \"\",\r\n-      suggestion: \"\",\r\n-    });\r\n+      // Reset form fields and trigger alert update\r\n+      setSuggestionData({\r\n+        name: \"\",\r\n+        email: \"\",\r\n+        suggestion: \"\",\r\n+      });\r\n \r\n-    // You can also add a timeout to automatically clear the alert after a few seconds:\r\n-    setTimeout(() => {\r\n-      setAlert(\"\");\r\n-    }, 3000); // Clears alert after 3 seconds\r\n-  } else {\r\n-    setAlert(\"Failed to submit suggestion.\");\r\n-  }\r\n-};\r\n+      // You can also add a timeout to automatically clear the alert after a few seconds:\r\n+      setTimeout(() => {\r\n+        setAlert(\"\");\r\n+      }, 3000); // Clears alert after 3 seconds\r\n+    } else {\r\n+      setAlert(\"Failed to submit suggestion.\");\r\n+    }\r\n+  };\r\n \r\n-\r\n   return (\r\n     <div className=\"container my-3\">\r\n       {/* Show success/error alerts */}\r\n       {alert && <div className=\"alert alert-info\">{alert}</div>}\r\n"
                }
            ],
            "date": 1739465480898,
            "name": "Commit-0",
            "content": "import React from \"react\";\r\n\r\nconst Suggestion = () => {\r\n  return (\r\n    <div>\r\n      <form>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">\r\n            Name\r\n          </label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            id=\"name\"\r\n            class=\"name\"\r\n          />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">\r\n            Email address\r\n          </label>\r\n          <input type=\"email\" className=\"form-control\" id=\"email\" />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">\r\n            Suggestion\r\n          </label>\r\n          <input type=\"password\" className=\"form-control\" id=\"suggestion\" />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary\">\r\n          Submit\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Suggestion;\r\n"
        }
    ]
}